<script src="https://js.lahza.io/inline.min.js"></script>
<form id="form">
  <div class="form-group">
    <label for="email">Email Address</label>
    <input type="email" id="email" required />
  </div>
  <div class="form-group">
    <label for="amount">Amount</label>
    <input type="text" id="amount" required />
  </div>
  <div class="form-submit">
    <button type="submit" onclick="pay()"> Pay </button>
  </div>
</form>
<script>
    const paymentForm = document.getElementById('form');
    paymentForm.addEventListener("submit", pay, false);
    
    function pay(e) {
      e.preventDefault();
      const lahza = new LahzaPopup();
          lahza.newTransaction({
              key: 'pk_test_xxxxxxxx',  // Replace with your actual test API key
              email: document.getElementById("email").value,
              currency: "USD",
              amount: document.getElementById("amount").value * 100,  // Amount in cents
              onSuccess: (transaction) => {
                   let message = 'Payment complete! Reference: ' + transaction.reference;
                   alert(message);
              },
              onCancel: () => {
                   alert('Window closed.');
              }
          });
    }
</script>
<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://js.lahza.io"></script>
  <script>
    Lahza.initialize({
      apiKey: 'pk_test_xwUWFisPhQaemYwgAdmx1d1SdyafBqLIM'
    });

    function handlePayment() {
      Lahza.createPayment({
        amount: 1000,
        currency: 'USD'
      }, function(response) {
        if (response.success) {
          console.log('Payment successful:', response);
        } else {
          console.error('Payment failed:', response.error);
        }
      });
    }
  </script>
</head>
<body>
  <button id="payButton" onclick="handlePayment()">Pay Now</button>
</body>
</html>
